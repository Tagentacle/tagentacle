# Tagentacleï¼šAI æ—¶ä»£çš„ ROS ğŸ™

[![GitHub](https://img.shields.io/badge/GitHub-Tagentacle-blue)](https://github.com/Tagentacle/tagentacle)

**Tagentacle** æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–ã€é…ç½®ä¸­å¿ƒåŒ–ã€ç”Ÿäº§çº§å¯ç”¨çš„å¤šæ™ºèƒ½ä½“æ¡†æ¶ã€‚å®ƒæ·±åº¦å¼•å…¥ **ROS 2** çš„è½¯ä»¶ç»„ç»‡æ¨¡å¼ï¼Œç»“åˆç°ä»£ AI ç”Ÿæ€ï¼ˆMCP åè®®ï¼‰ä¸åŠ¨æ€ Schema æŠ€æœ¯ï¼Œä¸ºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¤šæ™ºèƒ½ä½“ååŒæä¾›å·¥ä¸šçº§åŸºç¡€è®¾æ–½ã€‚

> **Everything is a Pkg. Managed. Verifiable. Scalable.**

---

## ğŸŒŸ æ ¸å¿ƒå“²å­¦ï¼šä¸€åˆ‡çš†åŒ… (Everything is a Pkg)

Tagentacle ç»§æ‰¿äº† ROS 2 æœ€æ ¹æœ¬çš„è½¯ä»¶ç»„ç»‡å“²å­¦ï¼š**å°†ç³»ç»ŸåŠŸèƒ½å½»åº•æ¨¡å—åŒ–**ã€‚è¿™ç§å“²å­¦åœ¨æŠ½è±¡æ™ºèƒ½ä½“ç»„ä»¶æ—¶å±•ç°å‡ºæä½³çš„å·¥ç¨‹æ€§è´¨ï¼š

- **Agent Package**ï¼šæ¯ä¸ªæ™ºèƒ½ä½“ä½œä¸ºç‹¬ç«‹çš„åŒ…ï¼ŒåŒ…å«å…¶è¡Œä¸ºé€»è¾‘ã€Prompt æ¨¡æ¿ã€çŠ¶æ€ç®¡ç†å’Œé€šä¿¡æ¥å£ã€‚
- **Tool/Service Package**ï¼šå°è£…æ™ºèƒ½ä½“éœ€è¦è°ƒç”¨çš„å·¥å…·æˆ–æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“è®¿é—®ã€ç½‘é¡µçˆ¬å–ï¼‰ï¼Œæ”¯æŒ MCP åè®®å®ç°æ’ä»¶åŒ–ã€‚
- **Interface Package**ï¼šä¸“é—¨å®šä¹‰è·¨èŠ‚ç‚¹é€šä¿¡çš„æ¶ˆæ¯å¥‘çº¦ï¼ˆJSON Schemaï¼‰ï¼Œç¡®ä¿ä¸åŒå¼€å‘è€…ç¼–å†™çš„åŒ…èƒ½"è¯´åŒä¸€ç§è¯­è¨€"ã€‚
- **Bringup Package**ï¼šè´Ÿè´£ç³»ç»Ÿçš„å¯åŠ¨å’Œé…ç½®ï¼Œå®šä¹‰ Workspace ä¸­çš„ Package é›†åˆã€å„èŠ‚ç‚¹çš„å¯åŠ¨å‚æ•°ã€ä»¥åŠç¯å¢ƒå‡­æ®ã€‚

æ ¸å¿ƒä¼˜åŠ¿ï¼š
*   **é«˜åº¦å¯é‡ç”¨æ€§**ï¼šæˆç†Ÿçš„å·¥å…·åŒ…æˆ–æ™ºèƒ½ä½“åŒ…å¯ä»¥åƒä¹é«˜ç§¯æœ¨ä¸€æ ·åœ¨ä¸åŒé¡¹ç›®ä¸­æ— ç¼è¿ç§»ã€‚
*   **ç‰ˆæœ¬ä¸ä¾èµ–éš”ç¦»**ï¼šå€Ÿé‰´ ROS 2 çš„éš”ç¦»æœºåˆ¶ï¼Œä¸ºæ¯ä¸ª Package è‡ªåŠ¨ç®¡ç†ç‹¬ç«‹çš„ Python è™šæ‹Ÿç¯å¢ƒï¼Œå½»åº•è§£å†³ä¾èµ–å†²çªã€‚
*   **é»‘ç›’å¼€å‘æ¨¡å¼**ï¼šå¼€å‘è€…åªéœ€å…³æ³¨åŒ…çš„è¾“å…¥è¾“å‡ºå¥‘çº¦ï¼Œæ— éœ€å…³å¿ƒå†…éƒ¨å®ç°æ˜¯åŸºäºä½•ç§æ¨¡å‹æˆ–æ¡†æ¶ã€‚

---

## âš”ï¸ ä¸ºä»€ä¹ˆé€‰æ‹© Tagentacleï¼Ÿ

åœ¨å•ä½“ç½‘å…³å’Œ CLI å·¥å…·ç»Ÿæ²»çš„å½“ä¸‹ï¼ŒTagentacle ä¸ºä¸‹ä¸€ä»£ AI æä¾›äº†"å·¥ä¸šçº§"çš„åŸºç¡€è®¾æ–½ã€‚

| ç‰¹æ€§ | å•ä½“ç½‘å…³ (å¦‚ OpenClaw) | å‘½ä»¤è¡Œå·¥å…· (å¦‚ Claude Code) | **Tagentacle** |
| :--- | :--- | :--- | :--- |
| **æ¶æ„** | Node.js å•ä½“å·¨çŸ³ | å•è¿›ç¨‹ CLI | **åˆ†å¸ƒå¼å¾®æœåŠ¡ (Rust)** |
| **æ‹“æ‰‘** | æ˜Ÿå‹ (ä¸€ä¸ªä¸­å¿ƒ) | æ ‘çŠ¶è°ƒç”¨æ ˆ (ä¸»â†’å­) | **ç½‘çŠ¶ Mesh (Pub/Sub)** |
| **ç¨³å®šæ€§** | ä¸€å¤„å´©æºƒï¼Œå…¨é‡æ‰çº¿ | éšè¿›ç¨‹ç»“æŸè€Œç»ˆæ­¢ | **è¿›ç¨‹éš”ç¦» (å®¹é”™æ€§æå¼º)** |
| **ç”Ÿå‘½å‘¨æœŸ** | ç»‘å®šèŠå¤©çª—å£ (TG/WA) | ä»»åŠ¡å‹ (ä¸€æ¬¡æ€§) | **æŒç»­è¿è¡Œ (24/7 äº‹ä»¶é©±åŠ¨)** |
| **äº¤äº’æ¨¡å¼** | èŠå¤©æ°”æ³¡ (ChatOps) | ç»ˆç«¯è¾“å‡º | **ä»»åŠ¡æŒ‡æŒ¥ä¸­å¿ƒ (å®æ—¶ä»ªè¡¨ç›˜)** |
| **ç»„ä»¶è§’è‰²** | æŠ€èƒ½ (ç»‘å®šå®¿ä¸») | æ’ä»¶/Sub-Agent (ä»å±äºä¸» Agent) | **ç‹¬ç«‹å¾®æœåŠ¡ (å¯¹ç­‰èŠ‚ç‚¹)** |
| **è¦†ç›–èŒƒå›´** | å•ä¸€æœåŠ¡å™¨ | æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ | **è·¨è®¾å¤‡ / è·¨å¹³å°ååŒ** |

### 1. é²æ£’æ€§ï¼šåˆ†å¸ƒå¼æ€»çº¿ vs å•ä½“ç½‘å…³
*   **å•ä½“è½¯è‚‹**ï¼šåœ¨ä¸€ä¸ª Node.js è¿›ç¨‹é‡Œè·‘ 50 ä¸ªæŠ€èƒ½ï¼Œä»»ä½•ä¸€ä¸ªæŠ€èƒ½çš„å†…å­˜æº¢å‡ºéƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿé‡å¯ã€‚
*   **Tagentacle çš„ç»å¯¹éš”ç¦»**ï¼šæ¯ä¸€ä¸ª Node éƒ½æ˜¯ç‹¬ç«‹è¿›ç¨‹ã€‚"æ¨ç‰¹çˆ¬è™«"å´©æºƒä¸å½±å“"è¿ç»´ Agent"ã€‚Rust ç¼–å†™çš„ Broker æä¾›æ°¸ä¸æ‰çº¿çš„é«˜å¹¶å‘æ¶ˆæ¯è·¯ç”±ã€‚

### 2. è‡ªä¸»æ€§ï¼šäº‹ä»¶é©±åŠ¨ç”Ÿå‘½ä½“ vs ä»»åŠ¡å‹å·¥å…·
*   **è¶…è¶Šè¯·æ±‚-å“åº”**ï¼šCLI å·¥å…·åªæœ‰åœ¨ä½ è¾“å…¥æŒ‡ä»¤æ—¶æ‰åŠ¨ä½œï¼Œå‘½ä»¤ç»“æŸå°±"æ­»"äº†ã€‚
*   **æ´»ç€çš„ç³»ç»Ÿ**ï¼šTagentacle Agent 24 å°æ—¶åœ¨çº¿ã€‚å‡Œæ™¨ 3 ç‚¹ç›‘æ§æ—¥å¿—ã€å‘ç°å¼‚å¸¸ã€è§¦å‘å‘Šè­¦ Agent å¹¶è‡ªä¸»ä¿®å¤â€”â€”å®ƒä¸æ˜¯å·¥å…·ï¼Œè€Œæ˜¯**æ•°å­—ç”Ÿå‘½ä½“**ã€‚

### 3. ä¸“ä¸šçº§ï¼šä»»åŠ¡æŒ‡æŒ¥ä¸­å¿ƒ vs èŠå¤©æ°”æ³¡
*   **æ€å¤§äºæµ**ï¼šç›®å‰çš„æ¡†æ¶å¤§å¤šè¢«è¿«å°†ä¿¡æ¯æŒ¤è¿› Telegram æˆ– WhatsAppã€‚
*   **ä¸“ä¸šå¯è§†åŒ–**ï¼šTagentacle æš´éœ²åŸç”Ÿæ•°æ®æ€»çº¿ï¼Œå…è®¸æ„å»º"ä»»åŠ¡æŒ‡æŒ¥ä¸­å¿ƒ"â€”â€”å®æ—¶ Agent æ‹“æ‰‘ã€CPU æ³¢å½¢å›¾ã€ä»£ç æµâ€”â€”ç”±åŒä¸€å¥—æ¶ˆæ¯æ€»çº¿é©±åŠ¨ã€‚

### 4. æ¶æ„åˆ†æ°´å²­ï¼šç½‘çŠ¶æ‹“æ‰‘ vs æ ‘çŠ¶è°ƒç”¨æ ˆ

è¿™æ˜¯ Tagentacle ä¸ Claude Code æ’ä»¶/Sub-Agent æ¨¡å¼ä¹‹é—´æœ€æ·±å±‚çš„ _æ¶æ„é¸¿æ²Ÿ_ã€‚

#### ä¸–ç•Œè§‚å·®å¼‚

| | **Claude Code (ä»¥é¡¹ç›®ä¸ºä¸­å¿ƒ)** | **Tagentacle (ä»¥ç³»ç»Ÿä¸ºä¸­å¿ƒ)** |
| :--- | :--- | :--- |
| **å®‡å®™** | å½“å‰ Git ä»“åº“ | è¿è¡Œä¸­çš„å¤šå®ä½“ç¯å¢ƒ |
| **`.claude.md` / `tagentacle.toml`** | é¡¹ç›®çš„"ç‰©ç†æ³•åˆ™" | æ¯ä¸ªå¾®æœåŠ¡çš„èº«ä»½è¯ |
| **Plugin / Pkg** | æŒ‚è½½åœ¨é¡¹ç›®ä¸Šçš„å·¥å…· | ç‹¬ç«‹å­˜æ´»çš„è½¯ä»¶å®ä½“ |
| **Sub-Agent / Node** | ä¸» Agent çš„å¤–åŒ…å°å¼Ÿ | å¯¹ç­‰çš„ç½‘ç»œå…¬æ°‘ |
| **AI æ˜¯ä»€ä¹ˆ** | Guestï¼ˆæœåŠ¡äºä»£ç åº“çš„å®¢äººï¼‰ | Hostï¼ˆç®¡ç†ä¸€åˆ‡çš„æ“ä½œç³»ç»Ÿï¼‰ |

#### æ‹“æ‰‘ç»“æ„ï¼šæ ‘ vs ç½‘

Claude Code å³ä¾¿å¼•å…¥äº† Sub-Agentï¼ˆç‹¬ç«‹ç³»ç»Ÿæç¤ºè¯ã€ç‹¬ç«‹å·¥å…·é›†ã€ç‰©ç†éš”ç¦»ä¸Šä¸‹æ–‡ï¼‰ï¼Œå…¶æ§åˆ¶æµä¾ç„¶æ˜¯ **æ ‘çŠ¶è°ƒç”¨æ ˆ (Call Stack)**ï¼š

```
ç”¨æˆ· â”€â”€â–¶ ä¸» Claude â”€â”€â–¶ SQL Agent â”€â”€â–¶ æ•°æ®åº“å·¥å…·
                    â””â”€â”€â–¶ å‰ç«¯ Agent â”€â”€â–¶ æ–‡ä»¶ç³»ç»Ÿ

æ§åˆ¶æµè‡ªä¸Šè€Œä¸‹ï¼Œç»“æœå¿…é¡»åŸè·¯è¿”å›ã€‚
SQL Agent æ— æ³•ä¸»åŠ¨è”ç³»å‰ç«¯ Agentã€‚
```

Tagentacle æ˜¯**ç½‘çŠ¶æ‹“æ‰‘ (Mesh)**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     /social/alerts     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çˆ¬è™« Node    â”‚ â”€â”€ publish â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ åˆ†æå¸ˆ Node  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚ /pr/drafts
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â–¼
â”‚ ä»ªè¡¨ç›˜ Node  â”‚ â—€â”€â”€ subscribe â”€â”€â”€â”€ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (æ—è·¯è§‚æµ‹)   â”‚ â—€â”€â”€ /mcp/traffic   â”‚ å…¬å…³ Node    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚ call_service
                                         â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ é‚®ä»¶æœåŠ¡ Node â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ²¡æœ‰ä¸»è§’ã€‚ä»»ä½•èŠ‚ç‚¹å¯ä»¥å‘å¸ƒåˆ°ä»»ä½• Topicï¼Œ
è®¢é˜…ä»»ä½• Topicï¼Œè°ƒç”¨ä»»ä½• Serviceã€‚
ä»ªè¡¨ç›˜èŠ‚ç‚¹å¯ä»¥è¶Šè¿‡æ‰€æœ‰ Agent ç›´æ¥æ—å¬åº•å±‚æµé‡ã€‚
```

#### ä¸‰é“ä¸å¯é€¾è¶Šçš„é¸¿æ²Ÿ

| ç»´åº¦ | Claude Code æ’ä»¶ / Sub-Agent | Tagentacle Node |
| :--- | :--- | :--- |
| **æ‹“æ‰‘** | æ ‘çŠ¶ (è°ƒç”¨æ ˆï¼Œç»“æœå¿…é¡»åŸè·¯è¿”å›) | ç½‘çŠ¶ (Pub/Subï¼Œä»»æ„èŠ‚ç‚¹äº’é€š) |
| **ç”Ÿå‘½å‘¨æœŸ** | çŸ­æš‚ (ä¾é™„äºä¸€è½®å¯¹è¯ï¼Œå¯¹è¯ç»“æŸå³ä¼‘çœ ) | æŒç»­å®ˆæŠ¤ (ç‹¬ç«‹è¿›ç¨‹ï¼Œ24/7 äº‹ä»¶é©±åŠ¨) |
| **ä¾èµ–å…³ç³»** | ç»„ä»¶ä»å±äºå®¿ä¸»é¡¹ç›® (Guest) | ç»„ä»¶æ˜¯å¯¹ç­‰çš„ç‹¬ç«‹å¾®æœåŠ¡ (Peer) |

#### åœºæ™¯é€‚é…

*   **"å¸®æˆ‘ä¿®è¿™ä¸ª React é¡¹ç›®çš„ Bug"** â†’ **Claude Code æœ€ä½³**ã€‚AI æ˜¯ Guestï¼Œä»£ç åº“æ˜¯å®‡å®™ï¼Œ`.claude.md` æä¾›ä¸Šä¸‹æ–‡ï¼ŒSub-Agent åˆ†å·¥æŸ¥åº“/å†™ç ï¼Œä¸€åˆ‡é¡ºæ»‘ã€‚
*   **"24 å°æ—¶èˆ†æƒ…ç›‘æ§ï¼šçˆ¬è™«â†’åˆ†æå¸ˆâ†’å…¬å…³â†’è‡ªåŠ¨å‘é‚®ä»¶"** â†’ **Tagentacle ä¸å¯æ›¿ä»£**ã€‚äº‹ä»¶é©±åŠ¨ã€æŒç»­è¿è¡Œã€èŠ‚ç‚¹ç‹¬ç«‹å´©æºƒ/é‡å¯ã€æ— ä¸­å¿ƒä¸»è„‘â€”â€”è¿™æ˜¯æ ‘çŠ¶è°ƒç”¨æ ˆæ ¹æœ¬æ— æ³•è¡¨è¾¾çš„æ¶æ„ã€‚

Tagentacle ä¸æ˜¯å¦ä¸€ä¸ª Claude Codeï¼Œ**å®ƒæ˜¯ç®¡ç†æ— æ•°ä¸ª "Claude çº§åˆ«æ™ºèƒ½ä½“" çš„åŸºç¡€è®¾æ–½**ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

æœ¬é¡¹ç›®ç”±ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ç»„æˆï¼š

1.  **`tagentacle` (Rust)**ï¼šé«˜æ€§èƒ½æ¶ˆæ¯è·¯ç”±å™¨ (Daemon/Broker) ä¸å‘½ä»¤è¡Œå·¥å…·ã€‚
2.  **`tagentacle-py` (Python)**ï¼šå®˜æ–¹ Python SDK (ç±»æ¯” ROS çš„ `rclpy`)ï¼Œæä¾›åŒå±‚å¼‚æ­¥ APIã€‚
3.  **`tagentacle-ecosystem` (è®¡åˆ’ä¸­)**ï¼šæ ‡å‡† Pkg é›†åˆ (å¦‚ `chatbot_ui_pkg`, `mcp_sqlite_wrapper_pkg`)ã€‚

### ğŸ§© ROS 2 æ¦‚å¿µæ˜ å°„

| ROS 2 æ¦‚å¿µ | Tagentacle æ˜ å°„ | AI åœºæ™¯è¯´æ˜ |
| :--- | :--- | :--- |
| **Workspace** | **Agent å·¥ä½œç©ºé—´** | åŒ…å«å¤šä¸ª Pkg çš„ç›®å½•ï¼Œä»£è¡¨ä¸€ä¸ªå¤æ‚æ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆå¦‚"ç§äººåŠ©ç†"ï¼‰ã€‚ |
| **Node** | **Agent Node / General Node** | è¿è¡Œå®ä½“ã€‚**æ™ºèƒ½ä½“èŠ‚ç‚¹** ç”± LLM é©±åŠ¨ï¼Œå…·å¤‡è‡ªä¸»å†³ç­–ï¼›**ä¸€èˆ¬èŠ‚ç‚¹** è¿è¡Œç¡®å®šæ€§é€»è¾‘ï¼ˆç›‘æ§ã€ç¡¬ä»¶æ¥å£ï¼‰ã€‚ |
| **Topic** | **å¸¦ Schema æ ¡éªŒçš„é€šé“** | å¼‚æ­¥æ•°æ®é€šé“ï¼Œ**å¿…é¡»å…³è” JSON Schema**ã€‚ä¸ç¬¦åˆæ ¼å¼çš„"å¹»è§‰è¾“å‡º"åœ¨å…¥å£å¤„å³è¢«æ‹¦æˆªã€‚ |
| **Service** | **å·¥å…·è°ƒç”¨ (RPC)** | åŒæ­¥ RPCã€‚ç”¨äºé«˜é¢‘ MCP å·¥å…·è°ƒç”¨ï¼ˆè¯»å†™æ–‡ä»¶ã€æŸ¥è¯¢æ•°æ®åº“ï¼‰ã€‚ |
| **Interface Pkg** | **JSON Schema å¥‘çº¦åŒ…** | ä¸“é—¨å®šä¹‰è·¨èŠ‚ç‚¹æ¶ˆæ¯å¥‘çº¦ï¼Œç¡®ä¿äº’æ“ä½œæ€§ã€‚ |
| **Bringup Pkg** | **é…ç½®ä¸­å¿ƒ** | æ‹“æ‰‘ç¼–æ’ã€å‚æ•°æ³¨å…¥ï¼ˆAPI_KEYã€Base_URLã€å·¥å…·å…è®¸åˆ—è¡¨ï¼‰ã€èŠ‚ç‚¹å¯åŠ¨é…ç½®ã€‚ |
| **Library Pkg** | **çº¯æç¤ºè¯ / ä»£ç åº“** | åŒ…å«ä»£ç åº“æˆ– Skillsï¼Œä¸å¯åŠ¨ç‹¬ç«‹èŠ‚ç‚¹ã€‚ |

### ğŸ“¦ åŒ…ç®¡ç†ä¸ç¼–æ’

#### `tagentacle.toml`ï¼šè½»é‡çº§å…ƒæ•°æ®å£°æ˜
æ¯ä¸ª Pkg æ ¹ç›®å½•å¿…é¡»åŒ…å«æ­¤æ¸…å•æ–‡ä»¶ï¼š
```toml
[package]
name = "alice_agent"
version = "0.1.0"
description = "ä¸€ä¸ªå¯¹è¯å¼ AI æ™ºèƒ½ä½“"
authors = ["dev@example.com"]

[entry_points]
node = "main:AliceNode"  # å¯¼å‡ºçš„ Node ç±»ï¼Œä¾¿äº CLI è‡ªåŠ¨åŠ è½½

[dependencies]
python = ["openai", "tagentacle-py>=0.1.0"]
```

#### Bringupï¼šä¸­å¿ƒåŒ–é…ç½®ä¸æ‹“æ‰‘ç®¡æ§
Bringup Package ä¸ä»…æ˜¯å¯åŠ¨è„šæœ¬ï¼Œæ›´æ˜¯ç³»ç»Ÿçš„"é…ç½®ä¸­å¿ƒ"ï¼š
*   **æ‹“æ‰‘ç¼–æ’**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶å£°æ˜ç³»ç»Ÿç”±å“ªäº›èŠ‚ç‚¹ç»„æˆã€‚
*   **å‚æ•°æ³¨å…¥**ï¼šå¯åŠ¨æ—¶åŠ¨æ€åˆ†å‘ API_KEYã€Base_URL å’Œ"å·¥å…·å…è®¸åˆ—è¡¨"ç­‰æ•æ„Ÿæˆ–æ˜“å˜é…ç½®ã€‚

### é€šä¿¡æµ

- **Topic (Pub/Sub)**ï¼šå®æ—¶å¹¿æ’­ã€æ—¶é—´çº¿æ›´æ–°ã€æµå¼è¾“å‡ºï¼ˆå¦‚ LLM æ‰“å­—æœºæ•ˆæœï¼‰ã€‚**ç» JSON Schema æ ¡éªŒã€‚**
- **Service (Req/Res)**ï¼šå¿«é€Ÿå·¥å…·è°ƒç”¨ï¼ˆMCP Tool æ‰§è¡Œï¼‰ã€‚
- **MCP éš§é“**ï¼š"åŒè½¨"æœºåˆ¶â€”â€”MCP JSON-RPC é€šè¿‡ Tagentacle Service éš§é“ä¼ è¾“ä»¥ä¿éšœå¯é æ€§ï¼ŒåŒæ—¶é•œåƒåˆ° Topic å®ç°é€æ˜è§‚æµ‹ã€‚
- **Action (è®¡åˆ’ä¸­)**ï¼šé•¿ç¨‹å¼‚æ­¥ä»»åŠ¡ï¼Œæ”¯æŒè¿›åº¦åé¦ˆã€‚

---

## ğŸ”Œ Python SDKï¼šåŒå±‚è®¾è®¡

### Simple APIï¼ˆé€‚ç”¨äºä¸€èˆ¬ç¨‹åºèŠ‚ç‚¹ï¼‰
ä¸ºå·²æœ‰è½¯ä»¶å¿«é€Ÿæ¥å…¥æ€»çº¿æä¾›ç®€æ˜“æ¥å£â€”â€”åªéœ€ `publish()` å’Œ `subscribe()`ï¼š
```python
from tagentacle_py import Node
import asyncio

async def main():
    node = Node("sensor_node")
    await node.connect()

    @node.subscribe("/data/temperature")
    async def on_temp(msg):
        print(f"æ¸©åº¦: {msg['payload']['value']}Â°C")

    await node.publish("/status/online", {"node": "sensor_node"})
    await node.spin()

asyncio.run(main())
```

### Node APIï¼ˆé€‚ç”¨äºæ™ºèƒ½ä½“èŠ‚ç‚¹ï¼Œå¸¦ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼‰
å®Œå–„çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒ `on_configure`ã€`on_activate` ç­‰é’©å­ï¼Œé€‚ç”¨äº CLI å¯åŠ¨å¹¶æ¥å— Bringup é…ç½®çš„èŠ‚ç‚¹ï¼š
```python
from tagentacle_py import LifecycleNode

class AliceAgent(LifecycleNode):
    def on_configure(self, config):
        self.api_key = config.get("api_key")
        self.allowed_tools = config.get("tools", [])

    def on_activate(self):
        self.subscribe("/task/inbox", self.handle_task)

    async def handle_task(self, msg):
        result = await self.call_service("/tool/search", msg["payload"])
        await self.publish("/task/result", result)

    def on_shutdown(self):
        self.logger.info("Alice æ­£åœ¨ä¼˜é›…å…³é—­ã€‚")
```

### é¢„åˆ¶èŠ‚ç‚¹ï¼šMCP-Publish æ¡¥æ¥å™¨
SDK å†…ç½®äº†ä¸€ä¸ªç‰¹æ®Šçš„ **MCP Server Node**ï¼Œå°†æ€»çº¿ `publish()` æŠ½è±¡ä¸ºæ ‡å‡† MCP Toolï¼Œä½¿ Agent Node èƒ½é€šè¿‡è°ƒç”¨å·¥å…·çš„æ–¹å¼è‡ªä¸»å‘æ€»çº¿ Topic å‘é€æ¶ˆæ¯ï¼š
```python
# MCP-Publish æ¡¥æ¥å™¨å°†æ€»çº¿è¯é¢˜æš´éœ²ä¸º MCP å·¥å…·ï¼š
# Tool: "publish_to_topic"
# Args: {"topic": "/alerts/critical", "payload": {"msg": "æœåŠ¡å™¨å®•æœºï¼"}}
```

---

## ğŸ› ï¸ MCP é›†æˆï¼šæ€»çº¿å³ä¼ è¾“å±‚ (Bus-as-Transport)

Tagentacle è§£å†³äº† MCP Session æ— æ³•åºåˆ—åŒ–è·¨è¿›ç¨‹ä¼ è¾“çš„é—®é¢˜ï¼š

### è®¾è®¡åŸåˆ™
*   **ä¼šè¯æœ¬åœ°åŒ–**ï¼šMCP Client/Server Session ä¿æŒåœ¨èŠ‚ç‚¹å†…å­˜ä¸­ï¼Œä¸è·¨è¿›ç¨‹ä¼ è¾“ã€‚
*   **æ€»çº¿è½¬å‘æµé‡**ï¼šè‡ªå®šä¹‰ `TagentacleTransport` å°† JSON-RPC æŒ‡ä»¤å°è£…è¿› Tagentacle Service è¯·æ±‚ï¼Œå®ç°"æ€»çº¿å³ä¼ è¾“å±‚"ï¼Œå·¥å…·è°ƒç”¨åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹é€æ˜é«˜æ•ˆã€‚
*   **åŒè½¨é›†æˆ**ï¼šMCP åŸå§‹ JSON è´Ÿè½½åŒæ—¶è¢«é•œåƒåˆ°ä¸“ç”¨ Topicï¼ˆå¦‚ `/mcp/traffic`ï¼‰ï¼Œå®ç°æ— æ„Ÿè§‚æµ‹å’Œè°ƒè¯•ã€‚

### æ— æ„Ÿ SDK æ¥å…¥
```python
from mcp import ClientSession
from tagentacle_py.mcp import TagentacleClientTransport

# åƒè¿ stdio ä¸€æ ·é€šè¿‡æ€»çº¿è¿æ¥
transport = TagentacleClientTransport(node, server_node_id="sqlite_server")
async with ClientSession(transport) as session:
    await session.initialize()
    result = await session.call_tool("query", {"sql": "SELECT * FROM users"})
```

### åŒå‘è°ƒç”¨ä¸å¯è§‚æµ‹æ€§
- **åŒå‘è°ƒç”¨**ï¼šæ”¯æŒå®Œæ•´ MCP è§„èŒƒï¼ŒåŒ…æ‹¬ **Sampling**ï¼ˆServer åå‘è°ƒç”¨ Agentï¼‰ã€‚Agent èŠ‚ç‚¹åŒæ ·æ³¨å†Œ `/rpc` æœåŠ¡ä»¥æ¥æ”¶å›è°ƒã€‚
- **é€æ˜è§‚æµ‹**ï¼šæ‰€æœ‰éš§é“æµé‡è‡ªåŠ¨é•œåƒåˆ° `/mcp/traffic` è¯é¢˜ï¼Œä»»ä½•èŠ‚ç‚¹ï¼ˆå¦‚ Loggerï¼‰éƒ½å¯ä»¥æ—è·¯å®¡è®¡å·¥å…·è°ƒç”¨æµã€‚

---

## ğŸ“œ é€šä¿¡åè®®è§„èŒƒ

Tagentacle Daemon é»˜è®¤ç›‘å¬ `TCP 19999` ç«¯å£ã€‚æ‰€æœ‰é€šä¿¡å‡ä¸ºæ¢è¡Œç¬¦åˆ†å‰²çš„ JSON å­—ç¬¦ä¸²ï¼ˆJSON Linesï¼‰ã€‚

### è¯é¢˜ (Topic)
*   **è®¢é˜…**: `{"op": "subscribe", "topic": "/chat/global", "node_id": "alice_node"}`
*   **å‘å¸ƒ**: `{"op": "publish", "topic": "/chat/global", "sender": "bob_node", "payload": {"text": "Hello!"}}`
*   **æ¶ˆæ¯æ¨é€ (Daemon -> Client)**: `{"op": "message", "topic": "/chat/global", "sender": "bob_node", "payload": {"text": "Hello!"}}`

### æœåŠ¡ (Service)
*   **æ³¨å†ŒæœåŠ¡**: `{"op": "advertise_service", "service": "/tool/read_file", "node_id": "fs_node"}`
*   **å‘èµ·è¯·æ±‚**: `{"op": "call_service", "service": "/tool/read_file", "request_id": "req-1", "payload": {"path": "a.txt"}}`
*   **è¿”å›å“åº”**: `{"op": "service_response", "service": "/tool/read_file", "request_id": "req-1", "payload": {"content": "..."}}`

---

## ğŸ› ï¸ å‘½ä»¤è¡Œå·¥å…· (`tagentacle`)

CLI æ˜¯å¼€å‘è€…çš„ä¸»è¦äº¤äº’å…¥å£ï¼š
- `tagentacle daemon`ï¼šå¯åŠ¨æœ¬åœ° TCP æ¶ˆæ¯æ€»çº¿ã€‚
- `tagentacle run --pkg <dir>`ï¼šæ¿€æ´»åŒ…çš„ `.venv` å¹¶å¯åŠ¨å…¶ Nodeã€‚
- `tagentacle launch <config.toml>`ï¼šæ ¹æ®æ‹“æ‰‘é…ç½®ç¼–æ’å¤šèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹ venvã€‚
- `tagentacle topic echo <topic>`ï¼šè®¢é˜…å¹¶å®æ—¶æ‰“å°æ¶ˆæ¯ã€‚
- `tagentacle service call <srv> <json>`ï¼šä»å‘½ä»¤è¡Œæµ‹è¯•æœåŠ¡ã€‚
- `tagentacle bridge --mcp <cmd>`ï¼šå°†å¤–éƒ¨ MCP Server (stdio) æ¡¥æ¥åˆ°æ€»çº¿ã€‚
- `tagentacle setup dep --pkg <dir>`ï¼šå¯¹å•ä¸ªåŒ…æ‰§è¡Œ `uv sync`ã€‚
- `tagentacle setup dep --all <workspace>`ï¼šæ‰«æå·¥ä½œç©ºé—´æ‰€æœ‰åŒ…å¹¶å®‰è£…ä¾èµ–ï¼Œç”Ÿæˆ `install/` ç»“æ„ã€‚
- `tagentacle setup clean --workspace <dir>`ï¼šç§»é™¤ç”Ÿæˆçš„ `install/` ç›®å½•ã€‚
- `tagentacle doctor`ï¼šå¥åº·æ£€æŸ¥ï¼ˆå®ˆæŠ¤è¿›ç¨‹çŠ¶æ€ã€èŠ‚ç‚¹è¿é€šæ€§ï¼‰ã€‚

### ç¯å¢ƒç®¡ç†

æ¯ä¸ªåŒ…éƒ½æ˜¯ä¸€ä¸ª **uv é¡¹ç›®**ï¼ˆ`pyproject.toml` + `uv.lock`ï¼‰ã€‚ä¸ä½¿ç”¨ pipã€‚

```bash
# åˆå§‹åŒ–æ•´ä¸ªå·¥ä½œç©ºé—´
tagentacle setup dep --all .
# â†’ åœ¨æ¯ä¸ªåŒ…ä¸­æ‰§è¡Œ uv sync
# â†’ åˆ›å»º install/src/<pkg>/.venv ç¬¦å·é“¾æ¥
# â†’ ç”Ÿæˆ install/setup_env.bash

# åŠ è½½ç¯å¢ƒï¼ˆå°†æ‰€æœ‰ .venv æ·»åŠ åˆ° PATHï¼‰
source install/setup_env.bash

# æ¸…ç†
tagentacle setup clean --workspace .
```

---

## ğŸ“ è·¯çº¿å›¾ä¸çŠ¶æ€

### å·²å®Œæˆ
- [x] **Rust Daemon**ï¼šTopic Pub/Sub å’Œ Service Req/Res æ¶ˆæ¯è·¯ç”±ã€‚
- [x] **Python SDK (Simple API)**ï¼š`Node` ç±»ï¼Œå« `connect`ã€`publish`ã€`subscribe`ã€`service`ã€`call_service`ã€`spin`ã€‚
- [x] **Python SDK åŒå±‚ API**ï¼šå®ç° `LifecycleNode`ï¼Œå« `on_configure`/`on_activate`/`on_deactivate`/`on_shutdown`ã€‚
- [x] **MCP Bridge (Rust)**ï¼š`tagentacle bridge --mcp` å‘½ä»¤ï¼Œå°† stdio MCP Server éš§é“è‡³æ€»çº¿ã€‚
- [x] **MCP Transport å±‚**ï¼šåœ¨ `tagentacle-py` ä¸­å®ç° `TagentacleClientTransport` å’Œ `TagentacleServerTransport`ã€‚
- [x] **MCP-Publish æ¡¥æ¥å™¨èŠ‚ç‚¹**ï¼šå†…ç½® MCP Serverï¼Œå°† `publish()` æš´éœ²ä¸º MCP Toolã€‚
- [x] **`tagentacle.toml` è§„èŒƒ**ï¼šå®šä¹‰å¹¶è§£æåŒ…æ¸…å•æ ¼å¼ã€‚
- [x] **Bringup é…ç½®ä¸­å¿ƒ**ï¼šé…ç½®é©±åŠ¨çš„æ‹“æ‰‘ç¼–æ’ä¸å‚æ•°æ³¨å…¥ã€‚
- [x] **CLI å·¥å…·é“¾**ï¼š`daemon`ã€`run`ã€`launch`ã€`topic echo`ã€`service call`ã€`doctor`ã€`bridge`ã€`setup dep`ã€`setup clean`ã€‚
- [x] **ç¯å¢ƒç®¡ç†**ï¼šåŸºäº uv çš„é€åŒ… `.venv` éš”ç¦»ï¼Œå·¥ä½œç©ºé—´ `install/` ç»“æ„ä¸ç¬¦å·é“¾æ¥ã€‚
- [x] **ç§˜é’¥ç®¡ç†**ï¼š`secrets.toml` è‡ªåŠ¨åŠ è½½ï¼ŒBringup ç¯å¢ƒå˜é‡æ³¨å…¥ã€‚
- [x] **SDK å·¥å…·å‡½æ•°**ï¼š`load_pkg_toml`ã€`discover_packages`ã€`find_workspace_root`ã€‚
- [x] **ç¤ºä¾‹ Workspace**ï¼š`examples/src/` åŒ…å« agent_pkgã€mcp_server_pkgã€bringup_pkgï¼Œå‡ä¸ºç‹¬ç«‹ uv é¡¹ç›®ã€‚

### è®¡åˆ’ä¸­
- [ ] **JSON Schema æ ¡éªŒ**ï¼šTopic çº§åˆ« Schema å¥‘çº¦ï¼Œå®ç°ç¡®å®šæ€§æ¶ˆæ¯æ ¡éªŒã€‚
- [ ] **èŠ‚ç‚¹ç”Ÿå‘½å‘¨æœŸè¿½è¸ª**ï¼šDaemon ä¾§å¿ƒè·³/å­˜æ´»ç›‘æ§ã€‚
- [ ] **Interface Package**ï¼šè·¨èŠ‚ç‚¹ JSON Schema å¥‘çº¦å®šä¹‰åŒ…ã€‚
- [ ] **Action æ¨¡å¼**ï¼šé•¿ç¨‹å¼‚æ­¥ä»»åŠ¡ï¼Œæ”¯æŒè¿›åº¦åé¦ˆã€‚
- [ ] **vcstool + `.repos`**ï¼šå¤šä»“ä¸€é”®æ‹‰å–ä¸å·¥ä½œç©ºé—´æ„å»ºã€‚
- [ ] **Web Dashboard**ï¼šå®æ—¶æ‹“æ‰‘ã€æ¶ˆæ¯æµå’ŒèŠ‚ç‚¹çŠ¶æ€å¯è§†åŒ–ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ (Rust Core)**:
   ```bash
   cd tagentacle
   cargo run -- daemon
   ```

2. **åˆå§‹åŒ–å·¥ä½œç©ºé—´ (uv)**:
   ```bash
   cd tagentacle-py
   tagentacle setup dep --all ..
   # æˆ–æ‰‹åŠ¨: uv sync
   ```

3. **è¿è¡ŒèŠ‚ç‚¹**:
   ```bash
   tagentacle run --pkg examples/src/mcp_server_pkg
   ```
